(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var m,d,E,_,y,u,p,g,h;m=document.getElementsByClassName("custom-select");_=m.length;for(d=0;d<_;d++){for(u=m[d].getElementsByTagName("select")[0],y=u.length,p=document.createElement("DIV"),p.setAttribute("class","select-selected"),p.innerHTML=u.options[u.selectedIndex].innerHTML,m[d].appendChild(p),g=document.createElement("DIV"),g.setAttribute("class","select-items select-hide"),E=1;E<y;E++)h=document.createElement("DIV"),h.innerHTML=u.options[E].innerHTML,h.addEventListener("click",function(t){var e,n,r,s,o,a,c;for(s=this.parentNode.parentNode.getElementsByTagName("select")[0],s.dispatchEvent(new Event("change")),a=s.length,o=this.parentNode.previousSibling,n=0;n<a;n++)if(s.options[n].innerHTML==this.innerHTML){for(s.selectedIndex=n+1,o.innerHTML=this.innerHTML,e=this.parentNode.getElementsByClassName("same-as-selected"),c=e.length,r=0;r<c;r++)e[r].removeAttribute("class");this.setAttribute("class","same-as-selected");break}o.click()}),g.appendChild(h);m[d].appendChild(g),p.addEventListener("click",function(t){t.stopPropagation(),L(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function L(t){var e,n,r,s,o,a=[];for(e=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),s=e.length,o=n.length,r=0;r<o;r++)t==n[r]?a.push(r):n[r].classList.remove("select-arrow-active");for(r=0;r<s;r++)a.indexOf(r)&&e[r].classList.add("select-hide")}document.addEventListener("click",L);const N=(t,e,n)=>{const r=document.createElement("div");r.classList.add("CH-parsed__item");const s=M(t,n),o=U(e);return r.appendChild(s),r.appendChild(o),r},M=(t,e)=>{const n=document.createElement("div");n.classList.add("CH-parsed__title");const r=document.createElement("i");return r.classList.add("icon"),r.classList.add(e),n.innerText=`${t}:`,n.prepend(r),n},U=t=>{const e=document.createElement("div");return e.classList.add("CH-parsed__value"),t.forEach(n=>{const r=document.createElement("span");r.innerText=n,e.appendChild(r)}),e};var i;(function(t){t.DOM_NOT_FOUND="UAParser is not running in the browser context (no DOM available), you must pass header map as a parameter to do the explicit device detection.",t.REQUIRED_RESOURCE_KEY="Resource key required. Configure one at https://configure.51degrees.com/S6fGMDKw",t.EMPTY_RESOURCE_KEY="Empty resource key provided. Configure one at https://configure.51degrees.com/S6fGMDKw",t.INCOMPLETE_HEADER_MAP="Incomplete header map. Must include either User-Agent or Sec-CH-UA header.",t.ATTEMPT_TO_USE_USER_AGENT="You are trying to use the legacy UAParser and pass User-Agent string as a parameter, please refer to the new API: await UAParser([resource-key][, header-map]).  Configure a resource key at https://configure.51degrees.com",t.INVALID_RESOURCE_KEY="Invalid resource key. Configure one at https://configure.51degrees.com/S6fGMDKw",t.HEADERS_NOT_HASHMAP="Invalid header map. Header map object must be a valid hash map.",t.INVALID_HEADERS_VALUE="Invalid header map. Header values must be of type string.",t.PROMISE_MISUSE="You are likely using a legacy API. The new UAParser call returns a promise that must be awaited."})(i||(i={}));var v;(function(t){t.USING_DEFAULT_KEY="Resource key not provided. Using default resource key"})(v||(v={}));const A={get:(t,e)=>{if(e==="then"||e==="catch")return t[e].bind(t);if(t instanceof Promise)throw new Error(i.PROMISE_MISUSE);return Reflect.get(t,e)}},b=["getCPU","getResult","getBrowser","getDevice","getEngine","getOS","getUA","setUA"],P={get:(t,e)=>{if(b.includes(e))throw new Error(`Method ${e} deprecated. Use result object properties directly. result.device contains new 51Degrees data points.`);return Reflect.get(t,e)}},f={browser:{name:"BrowserName",version:"BrowserVersion"},cpu:{architecture:"Unknown"},device:{model:"HardwareModel",type:"DeviceType",vendor:"HardwareVendor"},engine:{name:"LayoutEngine",version:"Unknown"},os:{name:"PlatformName",version:"PlatformVersion"}},R=t=>{const e={...t};return Object.keys(f).forEach(n=>{e[n]||(e[n]={}),Object.keys(f[n]).forEach(r=>{const s=f[n][r].toLowerCase();e[n][r]=e.device[s]||void 0})}),e},C=async t=>{try{const e=document.createElement("script");return e.type="text/javascript",e.async=!0,e.src=`https://cloud.51degrees.com/api/v4/${t}.js`,document.head.appendChild(e),new Promise((n,r)=>{e.onload=()=>{fod.complete(s=>{const o=R(s),a=new Proxy(o,P);n(a)})},e.onerror=()=>{r("UAParser-51D device detection failed to load javascript resource")}})}catch(e){throw new Error(`Injection request failed: ${e}`)}},D={getJSONRequest:(t,e)=>H(new URL(`https://cloud.51degrees.com/api/v4/${t}.json`),e)},H=async(t,e)=>{if(typeof window<"u")try{console.log("api headers",e);const n=`${t}?${new URLSearchParams(e).toString()}`,r=await fetch(n),s=await r.json();return{status:r.status,response:s}}catch(n){throw new Error(`Request failed: ${n}`)}else{const n=require("http"),r=require("https"),s=t.protocol==="http:"?n:r,o={hostname:t.hostname,port:t.port,path:t.pathname,method:"POST",headers:e};return new Promise((a,c)=>{s.get(o,l=>{let w="";l.on("data",S=>{w+=S}),l.on("end",()=>{a({status:l.statusCode,response:JSON.parse(w)})})}).on("error",l=>{c(new Error(`Request failed: ${l}`))})})}},k=async(t,e)=>{try{const{status:n,response:r}=await D.getJSONRequest(t,e);if(n===200){const s=R(r);return new Proxy(s,P)}else throw new Error(r.errors.at(0))}catch(n){throw n}},T=(t,e)=>{if(!t)throw Error(i.REQUIRED_RESOURCE_KEY);if(t.length<=0)throw Error(i.EMPTY_RESOURCE_KEY);if(/\s/g.test(t))throw Error(i.ATTEMPT_TO_USE_USER_AGENT);if(t.length<4)throw Error(i.INVALID_RESOURCE_KEY);if(typeof window<"u"){if(!e)return new Proxy(C(t),A)}else if(!e)throw new Error(i.DOM_NOT_FOUND);if(Object.keys(e).length<=0)throw Error(i.INCOMPLETE_HEADER_MAP);if(Object.keys(e).length<=0)throw Error(i.HEADERS_NOT_HASHMAP);if(Object.keys(e).some(n=>typeof e[n]!="string"))throw Error(i.INVALID_HEADERS_VALUE);if(!Object.keys(e).some(n=>n.toLowerCase()==="user-agent"||n.toLowerCase().includes("sec-ch")))throw Error(i.INCOMPLETE_HEADER_MAP);return new Proxy(k(t,e),A)},x=[{label:"Browser",icon:"browser-icon",values:["browsername","browserversion"]},{label:"Engine",icon:"gear-icon",values:["layoutengine"]},{label:"OS",icon:"point-icon",values:["platformname","platformversion"]},{label:"Type",icon:"laptop-icon",values:["devicetype"]},{label:"Hardware",icon:"gear-icon",values:["hardwarename","hardwarevendor"]},{label:"Model",icon:"gear-icon",values:["hardwaremodel"]}],I=async()=>{const r=document.getElementById("headers-list").value.split(`
`).reduce((o,a)=>{const[c,l]=a.split(":");return o[c]="",o[c]=l.replace(/['"]+/g,"").trim(),o},{}),s=await T("AQQ-BCqfIeuOA4ji2kg",r);O(s)},j=async()=>{const t=await T("AQQ-BCqfIeuOA4ji2kg");O(t)},O=t=>{const e=document.getElementById("parser-result");e.innerHTML="",x.forEach(n=>{const r=n.values.flatMap(o=>t.device[o]).filter(o=>o!=null).filter(o=>Array.isArray(o)?o:o.toLowerCase()!=="unknown");if(r.length<=0)return;const s=N(n.label,r,n.icon);e.appendChild(s)})};j().then();const B=document.getElementById("grab-textarea");B.addEventListener("click",I);const V=async t=>{const e=t.target.value,n=document.getElementById("headers-list");n.value=e,await I()},Y=document.getElementById("user-agent-selector");Y.addEventListener("change",V);
