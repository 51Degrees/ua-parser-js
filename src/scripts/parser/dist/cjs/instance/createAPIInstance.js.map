{"version":3,"file":"createAPIInstance.js","names":["createAPIInstance","key","headers","api","getJSONRequest","status","response","mappedToLegacy","extendWithLegacyProps","Proxy","RESULT_PROXY_HANDLING","Error","errors","at"],"sources":["../../../src/instance/createAPIInstance.ts"],"sourcesContent":["import api from \"../api\";\nimport RESULT_PROXY_HANDLING from \"../proxies/resultProxy\";\nimport { TApiResponseData } from \"../api/api\";\nimport extendWithLegacyProps from \"../utils/extendWithLegacyProps\";\n\nconst createAPIInstance = async (\n  key: string,\n  headers?: {},\n): Promise<TApiResponseData> => {\n  try {\n    const { status, response } = await api.getJSONRequest(\n      key,\n      headers,\n    );\n    if (status === 200) {\n      const mappedToLegacy =\n        extendWithLegacyProps(response);\n      return new Proxy(\n        mappedToLegacy,\n        RESULT_PROXY_HANDLING,\n      );\n    } else {\n      throw new Error(response.errors.at(0));\n    }\n  } catch (error) {\n    throw error;\n  }\n};\nexport default createAPIInstance;\n"],"mappings":";;;;;;;AAAA;AACA;AAEA;AAAmE;AAAA,+CAFnE;AAAA;AAAA;AAIA,IAAMA,iBAAiB;EAAA,sEAAG,iBACxBC,GAAW,EACXC,OAAY;IAAA;IAAA;MAAA;QAAA;UAAA;UAAA;UAAA,OAGyBC,eAAG,CAACC,cAAc,CACnDH,GAAG,EACHC,OAAO,CACR;QAAA;UAAA;UAHOG,MAAM,0BAANA,MAAM;UAAEC,QAAQ,0BAARA,QAAQ;UAAA,MAIpBD,MAAM,KAAK,GAAG;YAAA;YAAA;UAAA;UACVE,cAAc,GAClB,IAAAC,iCAAqB,EAACF,QAAQ,CAAC;UAAA,iCAC1B,IAAIG,KAAK,CACdF,cAAc,EACdG,uBAAqB,CACtB;QAAA;UAAA,MAEK,IAAIC,KAAK,CAACL,QAAQ,CAACM,MAAM,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;QAAA;UAAA;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA;QAAA;UAAA;MAAA;IAAA;EAAA,CAK3C;EAAA,gBAtBKb,iBAAiB;IAAA;EAAA;AAAA,GAsBtB;AAAC,eACaA,iBAAiB;AAAA"}