{"version":3,"file":"createAPIInstance.js","names":["api","RESULT_PROXY_HANDLING","extendWithLegacyProps","createAPIInstance","key","headers","status","response","getJSONRequest","mappedToLegacy","Proxy","Error","errors","at","error"],"sources":["../../../src/instance/createAPIInstance.ts"],"sourcesContent":["import api from \"../api\";\r\nimport RESULT_PROXY_HANDLING from \"../proxies/resultProxy\";\r\nimport { TApiResponseData } from \"../api/api\";\r\nimport extendWithLegacyProps from \"../utils/extendWithLegacyProps\";\r\n\r\nconst createAPIInstance = async (\r\n  key: string,\r\n  headers?: {},\r\n): Promise<TApiResponseData> => {\r\n  try {\r\n    const { status, response } = await api.getJSONRequest(\r\n      key,\r\n      headers,\r\n    );\r\n    if (status === 200) {\r\n      const mappedToLegacy =\r\n        extendWithLegacyProps(response);\r\n      return new Proxy(\r\n        mappedToLegacy,\r\n        RESULT_PROXY_HANDLING,\r\n      );\r\n    } else {\r\n      throw new Error(response.errors.at(0));\r\n    }\r\n  } catch (error) {\r\n    throw error;\r\n  }\r\n};\r\nexport default createAPIInstance;\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,QAAQ;AACxB,OAAOC,qBAAqB,MAAM,wBAAwB;AAE1D,OAAOC,qBAAqB,MAAM,gCAAgC;AAElE,MAAMC,iBAAiB,GAAG,OACxBC,GAAW,EACXC,OAAY,KACkB;EAC9B,IAAI;IACF,MAAM;MAAEC,MAAM;MAAEC;IAAS,CAAC,GAAG,MAAMP,GAAG,CAACQ,cAAc,CACnDJ,GAAG,EACHC,OAAO,CACR;IACD,IAAIC,MAAM,KAAK,GAAG,EAAE;MAClB,MAAMG,cAAc,GAClBP,qBAAqB,CAACK,QAAQ,CAAC;MACjC,OAAO,IAAIG,KAAK,CACdD,cAAc,EACdR,qBAAqB,CACtB;IACH,CAAC,MAAM;MACL,MAAM,IAAIU,KAAK,CAACJ,QAAQ,CAACK,MAAM,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;IACxC;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AACD,eAAeX,iBAAiB"}