{"version":3,"file":"createAPIInstance.js","names":["api","RESULT_PROXY_HANDLING","extendWithLegacyProps","createAPIInstance","key","headers","status","response","getJSONRequest","mappedToLegacy","Proxy","Error","errors","at","error"],"sources":["../../../src/instance/createAPIInstance.ts"],"sourcesContent":["import api from \"../api\";\nimport RESULT_PROXY_HANDLING from \"../proxies/resultProxy\";\nimport { TApiResponseData } from \"../api/api\";\nimport extendWithLegacyProps from \"../utils/extendWithLegacyProps\";\n\nconst createAPIInstance = async (\n  key: string,\n  headers?: {},\n): Promise<TApiResponseData> => {\n  try {\n    const { status, response } = await api.getJSONRequest(\n      key,\n      headers,\n    );\n    if (status === 200) {\n      const mappedToLegacy =\n        extendWithLegacyProps(response);\n      return new Proxy(\n        mappedToLegacy,\n        RESULT_PROXY_HANDLING,\n      );\n    } else {\n      throw new Error(response.errors.at(0));\n    }\n  } catch (error) {\n    throw error;\n  }\n};\nexport default createAPIInstance;\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,QAAQ;AACxB,OAAOC,qBAAqB,MAAM,wBAAwB;AAE1D,OAAOC,qBAAqB,MAAM,gCAAgC;AAElE,MAAMC,iBAAiB,GAAG,OACxBC,GAAW,EACXC,OAAY,KACkB;EAC9B,IAAI;IACF,MAAM;MAAEC,MAAM;MAAEC;IAAS,CAAC,GAAG,MAAMP,GAAG,CAACQ,cAAc,CACnDJ,GAAG,EACHC,OAAO,CACR;IACD,IAAIC,MAAM,KAAK,GAAG,EAAE;MAClB,MAAMG,cAAc,GAClBP,qBAAqB,CAACK,QAAQ,CAAC;MACjC,OAAO,IAAIG,KAAK,CACdD,cAAc,EACdR,qBAAqB,CACtB;IACH,CAAC,MAAM;MACL,MAAM,IAAIU,KAAK,CAACJ,QAAQ,CAACK,MAAM,CAACC,EAAE,CAAC,CAAC,CAAC,CAAC;IACxC;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAMA,KAAK;EACb;AACF,CAAC;AACD,eAAeX,iBAAiB"}